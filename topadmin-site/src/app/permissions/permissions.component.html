<div *ngIf="isLoading; then thenBlock; else elseBlock"></div>
<ng-template #thenBlock>Loading...</ng-template>
<ng-template #elseBlock>
  <div *ngIf="status; then thenBlock; else elseBlock"></div>
  <ng-template #thenBlock>
    <div class="modifier">
      <div class="search">search</div>
      <div class="crud">
        <button>c</button>
        <button>r</button>
        <button>u</button>
        <button>d</button>
      </div>
    </div>
    <table class="table table-hover">
      <thead>
        <tr>
          <th *ngIf="selectedItems.length > 0" scope="col">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="flexCheckChecked"
              (change)="onSelectAll($event)"
            />
          </th>

          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Created At</th>
          <th scope="col">Updated At</th>
        </tr>
      </thead>
      <tbody>
        <ng-template
          ngFor
          let-item
          [ngForOf]="permissionsService.permissions"
          let-c="index"
        >
          <tr (click)="selectItem(item.permission_id)">
            <th *ngIf="selectedItems.length > 0" scope="row">
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="flexCheckChecked"
                [checked]="selectedItems.includes(item.permission_id)"
              />
            </th>

            <th scope="row">{{ c }}</th>
            <td>{{ item.permission_name }}</td>
            <td>{{ item.permission_created_at }}</td>
            <td>{{ item.permission_updated_at }}</td>
          </tr>
        </ng-template>
        
      </tbody>
      
    </table>
    <div *ngIf="isLoadingMore; then thenBlock; else elseBlock"></div>
        <ng-template #thenBlock>
          <div class="spinner-border" role="status">
            <span class="sr-only"></span>
          </div>
        </ng-template>
        <ng-template #elseBlock>
          <div *ngIf="isHaveMore; then thenBlock; else elseBlock"></div>
          <ng-template #thenBlock
            ><button class="btn btn-outline-primary me-2" (click)="readMore()">
              <div>Load More</div>
            </button>
          </ng-template>
          <ng-template #elseBlock> Last item </ng-template>
        </ng-template>
  </ng-template>
  <ng-template #elseBlock>
    {{ error }}
  </ng-template>
</ng-template>
